'use strict';
console.log('main loaded');


var Router = Backbone.Router.extend({
    routes: {
        '': 'home',
        'home': 'home',
        'projects/:id': 'getProject',
        'tasks/:id': 'getOneTask',
        'comments/:id': 'getComment'
    },
    home: PM.renderUser(),
    getProject: function(id){
      PM.getProject(id);
    },
    getOneTask: function(id){
      PM.getOneTask(id);
    },
    getComment: function(id){
      PM.getComment(id);
    }
});

new Router();
Backbone.history.start();

$(document).ready(function() {
  $('#container').on('click', '#new-project-button', PM.showProjectForm);
  $('#container').on('submit', '#newProjectForm', PM.submitProject);
});
